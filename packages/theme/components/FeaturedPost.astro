---
import { Image } from "astro:assets";
import CollapsibleSection from "./CollapsibleSection.astro";

const { post, image } = Astro.props;
const bullets = [post.data.description, ...post.data.tags].slice(0, 2);
---
<section class="grid gap-6 lg:grid-cols-[2fr,1fr] items-center">
  <div>
    <p class="text-xs uppercase tracking-[0.3em] text-muted">Featured</p>
    <h1 class="text-4xl md:text-5xl font-bold mt-3">
      <a href={`/blog/${post.slug}`} class="hover:text-accent">{post.data.title}</a>
    </h1>
    <div class="mt-4">
      <CollapsibleSection title="In 20 secondi" variant="subtle">
        <ul class="space-y-2 text-sm text-muted">
          {bullets.map((item, index) => (
            <li class="flex gap-3">
              <span class="text-muted">{String(index + 1).padStart(2, "0")}</span>
              <span>{item}</span>
            </li>
          ))}
        </ul>
      </CollapsibleSection>
    </div>
    <div class="mt-6 flex flex-wrap gap-3">
      <a
        href={`/blog/${post.slug}`}
        class="bg-fg text-bg uppercase tracking-widest px-4 py-2 text-xs"
      >
        Leggi ora
      </a>
      <a
        href="/category/analisi"
        class="border border-fg uppercase tracking-widest px-4 py-2 text-xs hover:border-accent"
      >
        Vai alle Analisi
      </a>
    </div>
  </div>
  <div class="border border-border">
    {image && (
      <Image src={image} alt={post.data.title} width={960} height={540} class="w-full h-full object-cover" />
    )}
  </div>
</section>
